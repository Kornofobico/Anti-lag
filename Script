local ToDisable = {
    Textures = true,
    VisualEffects = true,
    Parts = true,
    Particles = true,
    Sky = true
}

local ToEnable = {
    FullBright = false
}

local Stuff = {}

for _, v in ipairs(game:GetDescendants()) do

    if ToDisable.Parts then
        if v:IsA("Part") or v:IsA("UnionOperation") or v:IsA("MeshPart") or v:IsA("BasePart") then
            v.Material = Enum.Material.SmoothPlastic
            v.CastShadow = false
            table.insert(Stuff, v)
        end
    end

    if v:IsA("SpecialMesh") then
        v.MeshId = ""
        v.TextureId = ""
        table.insert(Stuff, v)
    end

    if ToDisable.Particles then
        if v:IsA("ParticleEmitter") or v:IsA("Smoke") or v:IsA("Explosion") or v:IsA("Sparkles") or v:IsA("Fire") then
            v.Enabled = false
            if v:IsA("ParticleEmitter") then
                v.Rate = 0
                v.Lifetime = NumberRange.new(0)
            end
            table.insert(Stuff, v)
        end
    end

    if ToDisable.VisualEffects then
        if v:IsA("BloomEffect") or v:IsA("BlurEffect") or v:IsA("DepthOfFieldEffect") or v:IsA("SunRaysEffect") then
            v.Enabled = false
            table.insert(Stuff, v)
        end
    end

    if ToDisable.Textures then
        if v:IsA("Decal") or v:IsA("Texture") then
            v.Texture = ""
            table.insert(Stuff, v)
        end
    end

    if ToDisable.Sky then
        if v:IsA("Sky") then
            v:Destroy()
            table.insert(Stuff, v)
        end
    end

end

local cam = workspace.CurrentCamera
for _, effect in ipairs(cam:GetChildren()) do
    if effect:IsA("PostEffect") then
        effect.Enabled = false
    end
end

workspace.Terrain.WaterTransparency = 1
workspace.Terrain.WaterReflectance = 0

local Lighting = game.Lighting
Lighting.GlobalShadows = false
Lighting.EnvironmentSpecularScale = 0
Lighting.EnvironmentDiffuseScale = 0

settings().Rendering.QualityLevel = Enum.QualityLevel.Level01

if ToEnable.FullBright then
    Lighting.FogColor = Color3.new(1,1,1)
    Lighting.FogEnd = math.huge
    Lighting.FogStart = math.huge
    Lighting.Ambient = Color3.new(1,1,1)
    Lighting.Brightness = 5
    Lighting.ColorShift_Bottom = Color3.new(1,1,1)
    Lighting.ColorShift_Top = Color3.new(1,1,1)
    Lighting.OutdoorAmbient = Color3.new(1,1,1)
end

game:GetService("TestService"):Message("Anti-Lag: desativado "..#Stuff.." itens.")
